# Generated by Shep Compiler
# App: SupportAI
# DO NOT EDIT - regenerate from .shep file

from datetime import datetime
from typing import Optional, List
from pydantic import BaseModel, Field, computed_field
from enum import Enum
from .ai_client import *  # AI functions for derived fields

class CompanyPlan(str, Enum):
    starter = "starter"
    pro = "pro"
    enterprise = "enterprise"

class ConversationStatus(str, Enum):
    open = "open"
    resolved = "resolved"
    escalated = "escalated"

class MessageRole(str, Enum):
    customer = "customer"
    ai = "ai"
    agent = "agent"

class Company(BaseModel):
    name: str
    email: str
    plan: Optional[CompanyPlan] = None
    apiKey: Optional[str] = None
    createdAt: Optional[datetime] = None

class KnowledgeBase(BaseModel):
    company: Optional["Company"] = None
    title: str
    content: str
    uploadedAt: Optional[datetime] = None

class Conversation(BaseModel):
    company: Optional["Company"] = None
    customerId: str
    status: Optional[ConversationStatus] = None
    createdAt: Optional[datetime] = None

class Message(BaseModel):
    conversation: Optional["Conversation"] = None
    role: Optional[MessageRole] = None
    content: str
    confidence: Optional[float] = None
    timestamp: Optional[datetime] = None
    sentiment: Optional[str] = None
    summary: Optional[str] = None

class Escalation(BaseModel):
    conversation: Optional["Conversation"] = None
    reason: Optional[str] = None
    assignedAgent: Optional[str] = None
    resolvedAt: Optional[datetime] = None

